{"ast":null,"code":"import _regeneratorRuntime from \"/home/nocktis/WCS/Projet_Wild/Quete_React/React-Redux/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/nocktis/WCS/Projet_Wild/Quete_React/React-Redux/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"/home/nocktis/WCS/Projet_Wild/Quete_React/React-Redux/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/nocktis/WCS/Projet_Wild/Quete_React/React-Redux/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/nocktis/WCS/Projet_Wild/Quete_React/React-Redux/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/nocktis/WCS/Projet_Wild/Quete_React/React-Redux/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/nocktis/WCS/Projet_Wild/Quete_React/React-Redux/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/nocktis/WCS/Projet_Wild/Quete_React/React-Redux/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/nocktis/WCS/Projet_Wild/Quete_React/React-Redux/src/App.js\";\nimport React, { Component, Fragment } from 'react';\nimport './App.css';\nimport { ArticleList, Info } from './components';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      articles: [],\n      isLoading: true\n    };\n\n    _this.toggleArticleSelection = function (name) {\n      return function () {\n        var articles = _this.state.articles;\n\n        _this.setState({\n          articles: articles.map(function (article) {\n            return article.name === name ? _objectSpread({}, article, {\n              isSelected: !article.isSelected\n            }) : article;\n          })\n        });\n      };\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var response, articles;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch('https://packing-list-weight-api.herokuapp.com/articles');\n\n              case 2:\n                response = _context.sent;\n                _context.next = 5;\n                return response.json();\n\n              case 5:\n                articles = _context.sent;\n                this.setState({\n                  articles: articles.map(function (article) {\n                    return _objectSpread({}, article, {\n                      isSelected: false\n                    });\n                  }),\n                  isLoading: false\n                });\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          articles = _this$state.articles,\n          isLoading = _this$state.isLoading;\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, isLoading ? React.createElement(\"div\", {\n        \"data-selector\": \"App-isLoading\",\n        style: {\n          marginTop: '1em'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, \"Loading\\u2026\") : React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(ArticleList, {\n        articles: articles,\n        toggleArticleSelection: this.toggleArticleSelection,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }), React.createElement(Info, {\n        articles: articles,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/home/nocktis/WCS/Projet_Wild/Quete_React/React-Redux/src/App.js"],"names":["React","Component","Fragment","ArticleList","Info","App","state","articles","isLoading","toggleArticleSelection","name","setState","map","article","isSelected","fetch","response","json","marginTop"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAO,WAAP;AAEA,SAASC,WAAT,EAAsBC,IAAtB,QAAkC,cAAlC;;IAEMC,G;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,QAAQ,EAAE,EADJ;AAENC,MAAAA,SAAS,EAAE;AAFL,K;;UAgBRC,sB,GAAyB,UAAAC,IAAI;AAAA,aAAI,YAAM;AAAA,YAC7BH,QAD6B,GAChB,MAAKD,KADW,CAC7BC,QAD6B;;AAGrC,cAAKI,QAAL,CAAc;AACZJ,UAAAA,QAAQ,EAAEA,QAAQ,CAACK,GAAT,CAAa,UAAAC,OAAO;AAAA,mBAC5BA,OAAO,CAACH,IAAR,KAAiBA,IAAjB,qBACSG,OADT;AACkBC,cAAAA,UAAU,EAAE,CAACD,OAAO,CAACC;AADvC,iBAEID,OAHwB;AAAA,WAApB;AADE,SAAd;AAOD,OAV4B;AAAA,K;;;;;;;;;;;;;;;;;uBAVJE,KAAK,CAC1B,wDAD0B,C;;;AAAtBC,gBAAAA,Q;;uBAGiBA,QAAQ,CAACC,IAAT,E;;;AAAjBV,gBAAAA,Q;AACN,qBAAKI,QAAL,CAAc;AACZJ,kBAAAA,QAAQ,EAAEA,QAAQ,CAACK,GAAT,CAAa,UAAAC,OAAO;AAAA,6CAAUA,OAAV;AAAmBC,sBAAAA,UAAU,EAAE;AAA/B;AAAA,mBAApB,CADE;AAEZN,kBAAAA,SAAS,EAAE;AAFC,iBAAd;;;;;;;;;;;;;;;;;;6BAkBO;AAAA,wBACyB,KAAKF,KAD9B;AAAA,UACCC,QADD,eACCA,QADD;AAAA,UACWC,SADX,eACWA,SADX;AAGP,aACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGA,SAAS,GACR;AAAK,yBAAc,eAAnB;AAAmC,QAAA,KAAK,EAAE;AAAEU,UAAAA,SAAS,EAAE;AAAb,SAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADQ,GAKR,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,WAAD;AACE,QAAA,QAAQ,EAAEX,QADZ;AAEE,QAAA,sBAAsB,EAAE,KAAKE,sBAF/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAKE,oBAAC,IAAD;AAAM,QAAA,QAAQ,EAAEF,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,CANJ,CADF;AAiBD;;;;EAjDeN,S;;AAoDlB,eAAeI,GAAf","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport './App.css';\n\nimport { ArticleList, Info } from './components';\n\nclass App extends Component {\n  state = {\n    articles: [],\n    isLoading: true,\n  };\n\n  async componentDidMount() {\n    const response = await fetch(\n      'https://packing-list-weight-api.herokuapp.com/articles'\n    );\n    const articles = await response.json();\n    this.setState({\n      articles: articles.map(article => ({ ...article, isSelected: false })),\n      isLoading: false,\n    });\n  }\n\n  toggleArticleSelection = name => () => {\n    const { articles } = this.state;\n\n    this.setState({\n      articles: articles.map(article =>\n        article.name === name\n          ? { ...article, isSelected: !article.isSelected }\n          : article\n      ),\n    });\n  };\n\n  render() {\n    const { articles, isLoading } = this.state;\n\n    return (\n      <div className=\"App\">\n        {isLoading ? (\n          <div data-selector=\"App-isLoading\" style={{ marginTop: '1em' }}>\n            Loadingâ€¦\n          </div>\n        ) : (\n          <Fragment>\n            <ArticleList\n              articles={articles}\n              toggleArticleSelection={this.toggleArticleSelection}\n            />\n            <Info articles={articles} />\n          </Fragment>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}